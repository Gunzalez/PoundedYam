<div class="list-screen" ng-swipe-right="swiped('right')">
    <div class="top-bar">
        <div class="top-bar-title">
            <h2>All meals</h2>
            <p>Click to cook, buy or share.</p>
        </div>
    </div>
    <ul class="list">
        <li ng-repeat="meal in meals" back-img="img/{{meal.thumb}}" ng-class="{'show-buttons':meal.state, 'last-item':$last }" ng-click="showButtons($index)">
            <div class="cloak" id="meal-id-{{$index}}"></div>
            <a href="" class="addToFav" ng-if="hasLocalStorage" ng-click="favouriteClicked($event, $index, meal.id);">
                <span class="icon" ng-class="meal.favourite ? 'icon-heart' : 'icon-fav'"></span>
            </a>
            <div class="shareSheet" ng-show="meal.shareSheet" ng-click="$event.stopPropagation()">
                <p>Share <strong>{{meal.title}}</strong> on Facebook, Twitter, Instagram... y'know the usual chaps (WIP)</p>
            </div>
            <div class="bottom-bar">
                <h2 ng-bind="meal.title"></h2>
                <div class="buttons">
                    <ul class="actions">
                        <li class="first-item"><a ng-click="navigate('/cook/'+meal.id)">Cook {{meal[$index].state}}<span class="icon icon-cook"></span></a></li>
                        <li><a ng-click="navigate('/shop/'+meal.id)">Buy <span class="icon icon-buy"></span></a></li>
                        <li class="last-item"><a ng-click="shareThisMeal($event, $index)">Share <span class="icon icon-share"></span></a></li>
                    </ul>
                </div>
            </div>
        </li>
    </ul>
</div>

